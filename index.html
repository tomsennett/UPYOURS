<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPME.js with Bulma - Corrected Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
    <style>
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltipText {
            visibility: hidden;
            width: 120px;
            background-color: #4a4a4a;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip:hover .tooltipText {
            visibility: visible;
            opacity: 1;
        }
        .mirrorDisplay {
            border: 1px solid #dbdbdb;
            padding: 10px;
            min-height: 40px;
        }
        .dynamicBg {
            height: 40px;
            transition: background-color 0.3s;
        }
    </style>
    <script>
        // Button Click Counter
        function UPME_buttonClickCounter() {
            if (this.classList.contains("event-click")) {
                let count = parseInt(this.getAttribute('data-click-count')) || 0;
                count++;
                this.setAttribute('data-click-count', count);
                this.textContent = `Button clicked ${count} times`;
            }
        }

        // Hover Tooltip
        function UPME_tooltip() {
            const tooltipText = this.querySelector('.tooltipText');
            if (this.classList.contains("event-mouseover") && tooltipText) {
                tooltipText.style.visibility = 'visible';
                tooltipText.style.opacity = '1';
            }
            if (this.classList.contains("event-mouseout") && tooltipText) {
                tooltipText.style.visibility = 'hidden';
                tooltipText.style.opacity = '0';
            }
        }

        // Text Input Mirror
        function UPME_textInputMirror() {
            if (this.classList.contains("event-input")) {
                const value = this.value;
                document.querySelector('.mirrorDisplay').textContent = value;
            }
        }

        // Number Increment/Decrement
        function UPME_numberAdjuster() {
            if (this.classList.contains("event-click")) {
                let currentValue = parseInt(this.getAttribute('data-value')) || 0;
                const action = this.getAttribute('data-action');
                if (action === 'increment') currentValue++;
                if (action === 'decrement') currentValue--;
                this.setAttribute('data-value', currentValue);
                document.querySelector('.numberDisplay').textContent = `Value: ${currentValue}`;
            }
        }

        // Toggle Switch
        function UPME_toggleSwitch() {
            if (this.classList.contains("event-click")) {
                const toggleState = this.getAttribute('data-toggle-state') === 'on';
                this.setAttribute('data-toggle-state', toggleState ? 'off' : 'on');
                this.textContent = `Toggle is ${toggleState ? 'Off' : 'On'}`;
            }
        }

        // Text Area Character Counter
        function UPME_charCounter() {
            if (this.classList.contains("event-input")) {
                const value = this.value;
                document.querySelector('.charCountDisplay').textContent = `Characters: ${value.length}`;
            }
        }

        // Range Slider with Dynamic Background
        function UPME_rangeSlider() {
            if (this.classList.contains("event-input")) {
                const value = this.value;
                const bgElement = document.querySelector('.dynamicBg');
                bgElement.style.backgroundColor = `rgb(${value}, ${255 - value}, ${value / 2})`;
                document.querySelector('.sliderValueDisplay').textContent = `Slider Value: ${value}`;
            }
        }
    </script>
</head>
<body>
    <section class="section">
        <div class="container">
            <h1 class="title">UPME.js with Bulma - Corrected Demo</h1>
            <p class="subtitle">Explore corrected interactive elements using UPME.js and Bulma.</p>

            <!-- Button Click Counter -->
            <div class="box">
                <button class="button is-primary UPME buttonClickCounter" data-click-count="0">Button clicked 0 times</button>
            </div>

            <!-- Hover Tooltip -->
            <div class="box">
                <div class="tooltip UPME tooltip">
                    Hover over me
                    <div class="tooltipText">Tooltip text</div>
                </div>
            </div>

            <!-- Text Input Mirror -->
            <div class="box">
                <input type="text" class="input UPME textInputMirror" placeholder="Type to mirror...">
                <div class="mirrorDisplay">Type to mirror...</div>
            </div>

            <!-- Number Increment/Decrement -->
            <div class="box">
                <button class="button UPME numberAdjuster" data-action="decrement" data-value="0">-</button>
                <button class="button UPME numberAdjuster" data-action="increment" data-value="0">+</button>
                <div class="numberDisplay">Value: 0</div>
            </div>

            <!-- Toggle Switch -->
            <div class="box">
                <button class="button UPME toggleSwitch" data-toggle-state="off">Toggle is Off</button>
            </div>

            <!-- Text Area Character Counter -->
            <div class="box">
                <textarea class="textarea UPME charCounter" placeholder="Start typing..."></textarea>
                <div class="charCountDisplay">Characters: 0</div>
            </div>

            <!-- Range Slider with Dynamic Background -->
            <div class="box">
                <input type="range" class="UPME rangeSlider" min="0" max="255" value="128">
                <div class="dynamicBg"></div>
                <div class="sliderValueDisplay">Slider Value: 128</div>
            </div>
        </div>
    </section>

    <!-- Include the UPME.js library -->
    <script src="upme.js"></script>
</body>
</html>
